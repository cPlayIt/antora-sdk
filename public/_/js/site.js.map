{"version":3,"sources":["js/01-nav.js","js/02-fragment-jumper.js","js/03-page-versions.js","js/04-mobile-navbar.js","js/05-copy-code.js"],"names":["navContainer","document","querySelector","navToggle","addEventListener","e","classList","contains","hideNav","html","documentElement","add","concealEvent","menuPanel","from","selector","nav","currentPageItem","navItem","ancestorClasses","ancestor","parentNode","tagName","activateCurrentPath","panel","el","rect","getBoundingClientRect","effectiveHeight","height","navStyle","window","getComputedStyle","position","top","parseFloat","scrollTop","Math","max","offsetTop","scrollItemToMidpoint","slice","call","querySelectorAll","forEach","btn","li","parentElement","toggleActive","bind","navItemSpan","nextElementSibling","nextSibling","nodeType","matches","findNextElement","style","cursor","currentPanel","activatePanel","dataset","toggle","detail","preventDefault","this","remove","removeEventListener","stopPropagation","article","toolbar","jumpToAnchor","location","hash","id","scrollTo","computePosition","sum","offsetParent","bottom","jumpOnLoad","target","getElementById","setTimeout","Array","prototype","navbarToggles","length","codeTags","getElementsByTagName","i","appendButton","preTags","preTag","firstChild","element","button","createElement","innerHTML","appendChild","handleClick","event","text","innerText","copyLabel","value","setAttribute","left","body","selected","getSelection","rangeCount","getRangeAt","select","execCommand","removeChild","removeAllRanges","addRange"],"mappings":"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","file":"js/site.js","sourcesContent":[";(function () {\n  'use strict'\n\n  var navContainer = document.querySelector('.nav-container')\n  var navToggle = document.querySelector('.nav-toggle')\n\n  navToggle.addEventListener('click', showNav)\n  // NOTE don't let click events propagate outside of nav container\n  navContainer.addEventListener('click', concealEvent)\n\n  var menuPanel = navContainer.querySelector('[data-panel=menu]')\n  if (!menuPanel) return\n  var nav = navContainer.querySelector('.nav')\n\n  var currentPageItem = menuPanel.querySelector('.is-current-page')\n  if (currentPageItem) {\n    activateCurrentPath(currentPageItem)\n    scrollItemToMidpoint(menuPanel, currentPageItem.querySelector('.nav-link'))\n  } else {\n    menuPanel.scrollTop = 0\n  }\n\n  find(menuPanel, '.nav-item-toggle').forEach(function (btn) {\n    var li = btn.parentElement\n    btn.addEventListener('click', toggleActive.bind(li))\n    var navItemSpan = findNextElement(btn, '.nav-text')\n    if (navItemSpan) {\n      navItemSpan.style.cursor = 'pointer'\n      navItemSpan.addEventListener('click', toggleActive.bind(li))\n    }\n  })\n\n  nav.querySelector('.context').addEventListener('click', function () {\n    var currentPanel = nav.querySelector('.is-active[data-panel]')\n    var activatePanel = currentPanel.dataset.panel === 'menu' ? 'explore' : 'menu'\n    currentPanel.classList.toggle('is-active')\n    nav.querySelector('[data-panel=' + activatePanel + ']').classList.toggle('is-active')\n  })\n\n  // NOTE prevent text from being selected by double click\n  menuPanel.addEventListener('mousedown', function (e) {\n    if (e.detail > 1) e.preventDefault()\n  })\n\n  function activateCurrentPath (navItem) {\n    var ancestorClasses\n    var ancestor = navItem.parentNode\n    while (!(ancestorClasses = ancestor.classList).contains('nav-menu')) {\n      if (ancestor.tagName === 'LI' && ancestorClasses.contains('nav-item')) {\n        ancestorClasses.add('is-active', 'is-current-path')\n      }\n      ancestor = ancestor.parentNode\n    }\n    navItem.classList.add('is-active')\n  }\n\n  function toggleActive () {\n    this.classList.toggle('is-active')\n  }\n\n  function showNav (e) {\n    if (navToggle.classList.contains('is-active')) return hideNav(e)\n    var html = document.documentElement\n    html.classList.add('is-clipped--nav')\n    navToggle.classList.add('is-active')\n    navContainer.classList.add('is-active')\n    html.addEventListener('click', hideNav)\n    concealEvent(e)\n  }\n\n  function hideNav (e) {\n    var html = document.documentElement\n    html.classList.remove('is-clipped--nav')\n    navToggle.classList.remove('is-active')\n    navContainer.classList.remove('is-active')\n    html.removeEventListener('click', hideNav)\n    concealEvent(e)\n  }\n\n  // NOTE don't let event get picked up by window click listener\n  function concealEvent (e) {\n    e.stopPropagation()\n  }\n\n  function scrollItemToMidpoint (panel, el) {\n    var rect = panel.getBoundingClientRect()\n    var effectiveHeight = rect.height\n    var navStyle = window.getComputedStyle(nav)\n    if (navStyle.position === 'sticky') effectiveHeight -= rect.top - parseFloat(navStyle.top)\n    panel.scrollTop = Math.max(0, (el.getBoundingClientRect().height - effectiveHeight) * 0.5 + el.offsetTop)\n  }\n\n  function find (from, selector) {\n    return [].slice.call(from.querySelectorAll(selector))\n  }\n\n  function findNextElement (from, selector) {\n    var el\n    if ('nextElementSibling' in from) {\n      el = from.nextElementSibling\n    } else {\n      el = from\n      while ((el = el.nextSibling) && el.nodeType !== 1);\n    }\n    return el && selector ? el[el.matches ? 'matches' : 'msMatchesSelector'](selector) && el : el\n  }\n})()\n",";(function () {\n  'use strict'\n\n  var article = document.querySelector('article.doc')\n  var toolbar = document.querySelector('.toolbar')\n\n  function computePosition (el, sum) {\n    if (article.contains(el)) {\n      return computePosition(el.offsetParent, el.offsetTop + sum)\n    } else {\n      return sum\n    }\n  }\n\n  function jumpToAnchor (e) {\n    if (e) {\n      window.location.hash = '#' + this.id\n      e.preventDefault()\n    }\n    window.scrollTo(0, computePosition(this, 0) - toolbar.getBoundingClientRect().bottom)\n  }\n\n  window.addEventListener('load', function jumpOnLoad (e) {\n    var hash, target\n    if ((hash = window.location.hash) && (target = document.getElementById(hash.slice(1)))) {\n      jumpToAnchor.bind(target)()\n      setTimeout(jumpToAnchor.bind(target), 0)\n    }\n    window.removeEventListener('load', jumpOnLoad)\n  })\n\n  Array.prototype.slice.call(document.querySelectorAll('a[href^=\"#\"]')).forEach(function (el) {\n    var hash, target\n    if ((hash = el.hash.slice(1)) && (target = document.getElementById(hash))) {\n      el.addEventListener('click', jumpToAnchor.bind(target))\n    }\n  })\n})()\n",";(function () {\n  'use strict'\n\n  var toggle = document.querySelector('.page-versions .version-menu-toggle')\n  if (!toggle) return\n\n  var selector = document.querySelector('.page-versions')\n\n  toggle.addEventListener('click', function (e) {\n    selector.classList.toggle('is-active')\n    // don't let this event get smothered\n    e.stopPropagation()\n  })\n\n  document.documentElement.addEventListener('click', function () {\n    selector.classList.remove('is-active')\n  })\n})()\n","document.addEventListener('DOMContentLoaded', function () {\n  var navbarToggles = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0)\n  if (navbarToggles.length === 0) return\n  navbarToggles.forEach(function (el) {\n    el.addEventListener('click', function (e) {\n      e.stopPropagation()\n      el.classList.toggle('is-active')\n      document.getElementById(el.dataset.target).classList.toggle('is-active')\n      document.documentElement.classList.toggle('is-clipped--navbar')\n    })\n  })\n})\n",";(function () {\n    'use strict'\n\n    // Find all <code> tags and add click handler to them\n    var codeTags = document.getElementsByTagName('code');\n    for (var i = 0; i < codeTags.length; i++) {\n      var codeTag = codeTags[i];\n      appendButton(codeTag);\n    }\n\n    // Find all <pre> tags that don't have <code> tags as a direct child\n    // and add click handlers to them\n    var preTags = document.getElementsByTagName('pre');\n    for (var i = 0; i < preTags.length; i++) {\n      var preTag = preTags[i];\n      var firstChild = preTag.firstChild;\n      if (firstChild && firstChild.tagName !== 'CODE') {\n        appendButton(preTag);\n      }\n    }\n\n    // create a button and append it to HTMLelement\n    function appendButton(element) {\n      var button = document.createElement('button');\n      button.innerHTML = '<span class=\"copy-label\">copy</span><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19.0909 14.5457H16.3636V4.54559C16.3636 4.04376 15.9564 3.63649 15.4545 3.63649H5.45447V0.909196C5.45447 0.407375 5.86174 9.91821e-05 6.36356 9.91821e-05H19.0909C19.5927 9.91821e-05 20 0.407375 20 0.909196V13.6366C20 14.1384 19.5927 14.5457 19.0909 14.5457Z\" fill=\"#333333\"/><path d=\"M13.6365 5.45444H0.909097C0.406366 5.45444 0 5.86081 0 6.36354V19.0909C0 19.5927 0.406366 20 0.909097 20H13.6365C14.1392 20 14.5456 19.5927 14.5456 19.0909V6.36354C14.5456 5.86081 14.1392 5.45444 13.6365 5.45444Z\" fill=\"#333333\"/></svg>';\n      button.classList= 'copy-button';\n      element.appendChild(button);\n      element.addEventListener('click', handleClick);\n    };\n\n    // When the buttons within the code or pre tags are clicked, \n    // get the content out of the tag and copy it to the users clicboard\n    function handleClick(event) {\n      var button = event && event.target;\n      var parent = button.parentNode;\n      var text = parent.innerText; // get text from element\n      var copyLabel = button.querySelector('.copy-label');\n\n      var el = document.createElement('textarea');    // Create a <textarea> element\n      el.value = text;                                // Set its value to the string that you want copied\n      el.setAttribute('readonly', '');                // Make it readonly to be tamper-proof\n      el.style.position = 'absolute';                 \n      el.style.left = '-9999px';                      // Move outside the screen to make it invisible\n      document.body.appendChild(el);                  // Append the <textarea> element to the HTML document\n      var selected =            \n        document.getSelection().rangeCount > 0        // Check if there is any content selected previously\n          ? document.getSelection().getRangeAt(0)     // Store selection if found\n          : false;                                    // Mark as false to know no selection existed before\n      el.select();                                    // Select the <textarea> content\n      document.execCommand('copy');                   // Copy - only works as a result of a user action (e.g. click events)\n      document.body.removeChild(el);                  // Remove the <textarea> element\n      if (selected) {                                 // If a selection existed before copying\n        document.getSelection().removeAllRanges();    // Unselect everything on the HTML document\n        document.getSelection().addRange(selected);   // Restore the original selection\n      }\n\n      copyLabel.innerHTML = \"copied\";\n      setTimeout(function(){ copyLabel.innerHTML = \"copy\"; }, 3000)\n    };\n \n  })()"]}